<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../styles/style.css" media="all">
<link rel="stylesheet" href="../styles/pag-prods.css">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<script src="https://assets.pagar.me/pagarme-js/3.0/pagarme.min.js"></script>
</head>
<style>
    body {
        color: #212529; 
    }
    h1 {
        position: absolute;
        left: 15%;
    }
    #saldCart {
        border: 1px solid #E8E8E8;
        border-radius: 5px;
        width: 25%;
        height: 150px;
        position: relative;
        left: 15%;
        top: 100px;
        padding: 8px;
    }
    #saldCart:hover {
        transition: 1s;
        border: none;
        box-shadow: 1px 1px 6px #ef412693; 
    }
    .pVl {
        font-size: 26px;
        position: relative;
        top: 15px;
    }
    #vlrCart {
        font-size: 26px;
    }
    #saldCart > a {
        text-decoration: none;
        color: white;
        background-color: #EF4126;
        padding: 8px 18px 8px 18px;
        position: relative;
        left: 70%;
        top: -10px;
        font-size: 13px;
        font-weight: bold;
    }
    #pop-upPag {
        display: none;
        border-radius: 5px;
        border: 1px solid #858383;
        width: 25%;
        height: 900px;
        position: relative;
        left: 60%;
        transform: translate(-60%);
        top: -220px;
    }
    #fechPop {
        font-size: 22px;
        color: #212529;
        position: absolute;
        left: 90%;
        top: 1%;
    }
    #fechPop2 {
        font-size: 22px;
        color: #212529;
        position: absolute;
        left: 90%;
        top: 1%;
    }
    #pop-upPag > h2 {
        width: fit-content;
        position: relative;
        top: 20px;
        left: 20px;
    }
    #pop-upPag > ul {
        padding: 8px;
        list-style: none;
        position: relative;
        top: 50px;
    }
    #pop-upPag > ul > li {
        border-radius: 5px;
        border: 1px solid #929090;
        padding: 18px;
        font-weight: bold;
        font-size: 22px;
        margin-top: 10px;
    }
    #pop-upPag ul li.selecionado {
        transition: 1s;
        border: none;
        box-shadow: 1px 1px 6px #ef412693; 
    }
    .prossRec {
        text-decoration: none;
        color: white;
        background-color: #EF4126;
        padding: 8px 18px 8px 18px;
        position: absolute;
        left: 70%;
        top: 90%;
        font-size: 13px;
        font-weight: bold;
    }
    #pagRec {
        display: none;
        border-radius: 5px;
        border: 1px solid #858383;
        width: 25%;
        height: 600px;
        position: relative;
        left: 60%;
        transform: translate(-60%);
        top: -220px;
    }
    #pagRec > h2 {
        width: fit-content;
        position: relative;
        top: 20px;
        left: 20px;
    } 
    .vlPg {
        font-size: 26px;
        position: relative;
        top: 35px;
        left: 20px;
    }
    #vlrEsq {
        font-size: 26px;
    }
    #formaPagto {
        position: absolute;
        top: 50%;
    }
    #pagRec > h3 {
        font-weight: normal;
        position: relative;
        top: 70px;
        left: 20px;
    }
    #pagRec > a {
        color: #212529;
    }
    #mtd-Pix {
        border-bottom: 1px solid #858383;
        position: relative;
        left: 30px;
        top: 85px;
        width: 90%;
    }
    #mtd-Pix:hover {
        transition: 1s;
        border-bottom: 1px solid #EF4126;
    }
    #mtd-Pix > img {
        position: relative;
        left: 10px;
        top: 10px;
    }
    #mtd-Pix > p {
        position: relative;
        left: 60px;
        top: -25px;
    }
    #mtd-Crd {
        border-bottom: 1px solid #858383;
        position: relative;
        left: 30px;
        top: 85px;
        width: 90%;
    }
    #mtd-Crd:hover {
        transition: 1s;
        border-bottom: 1px solid #EF4126;
    }
    #mtd-Crd > img {
        position: relative;
        left: 10px;
        top: 10px;
    }
    #mtd-Crd > p {
        position: relative;
        left: 60px;
        top: -25px;
    }
    #mtd-Boleto {
        border-bottom: 1px solid #858383;
        position: relative;
        left: 30px;
        top: 85px;
        width: 90%;
    }
    #mtd-Boleto:hover {
        transition: 1s;
        border-bottom: 1px solid #EF4126;
    }
    #mtd-Boleto > img {
        position: relative;
        left: 10px;
        top: 10px;
    }
    #mtd-Boleto > p {
        position: relative;
        left: 60px;
        top: -25px;
    }
    div#qrCodeContainer {
        display: none;
        border: 1px solid #858383;
        position: relative;
        top: -27%;
        width: 27%;
        left: 57%;
        transform: translate(-50%);
        height: 627px;
        border-radius: 5px;
        background-color: white;
    }
        img#imgPix {
        position: relative;
        left: 50%;
        transform: translate(-50%);
        top: 111px;
    }
    button#copiarPayloadBtn {
        padding: 18px 28px 18px 28px;
        position: relative;
        top: 25%;
        left: -109px;
        transform: translate(16%);
        border: 1px solid #EF4126;
        color: #F37160;
        background-color: white;
        font-weight: bold;
        cursor: pointer;
    }
    h2#h2Container {
        position: relative;
        top: -36%;
        left: 31%;
    }
    p#expirationDateParagraph {
        position: relative;
        top: 147px;
        left: 68%;
        transform: translate(-50%);
        color: #EF4126;
    }
    #boletoPayContainer {
        display: none;
        border: 1px solid #858383;
        position: relative;
        top: -27%;
        width: 27%;
        left: 57%;
        transform: translate(-50%);
        height: 627px;
        border-radius: 5px;
        background-color: white;
    }
    h2#h2BolCont {
        position: relative;
        left: 80%;
        transform: translate(-50%);
        top: 32px;
    }
    a#lnkBol {
        position: relative;
        left: 2%;
        top: 17%;
    }
    #btnCopCodBol {
        padding: 18px 28px 18px 28px;
        border: 1px solid #EF4126;
        color: #F37160;
        background-color: white;
        font-weight: bold;
        cursor: pointer;
        position: relative;
        top: 25%;
        left: 39%;
    }
    .pAcessBol {
        position: relative;
        left: 91%;
        transform: translate(-50%);
        top: 11%;
        font-weight: bold;
        color: #F37160;
    }
    #cartaoDeCreditoContainer {
        display: none;
        border: 1px solid #858383;
        position: relative;
        top: -35%;
        width: 24%;
        left: 57%;
        transform: translate(-50%);
        height: 756px;
        border-radius: 5px;
        background-color: white;
    }
    h2#h2CreditCont {
        position: relative;
        top: 30px;
        left: 6%;
        font-size: 32px;
    }
    p#pCreditCont {
        position: relative;
        left: 7%;
        top: 28px;
    }
    form#formCardCredit {
        position: relative;
        top: 85px;
        left: 10%;
        width: 25%;
        height: 427px;
    }
    form#formCardCredit > p {
    margin-bottom: 10px;
    }
    form#formCardCredit > p > input {
        padding: 10px 28px 10px 28px;
        font-size: 20px;
    }
    #btnEnvCardCredit {
        padding: 18px 28px 18px 28px;
        border: 1px solid #EF4126;
        color: #F37160;
        background-color: white;
        font-weight: bold;
        cursor: pointer;
        position: relative;
        top: 20px;
        left: 85%;
    }
    @media screen and (min-width:320px) and (max-width:481px) {
        header > p {
            position: relative;
            top: 30px;
            left: 1%;
            font-size: 14px;
            letter-spacing: 0.4px;
            width: fit-content;
        }
        .icons {
            position: relative;
            top: -10px;
            left: 61%;
            cursor: pointer;
            width: fit-content;
            padding-left: 5px;
        }
        .menu2 {
            display: flex;
            list-style: none;
            width: max-content;
            position: relative;
            top: 39px;
            left: -7%;
        }
        .logo-imprimeai {
            position: relative;
            top: 35px;
            left: 18%;
        }
        #saldCart {
            border: 1px solid #E8E8E8;
            border-radius: 5px;
            width: 97%;
            height: 178px;
            position: relative;
            left: 1%;
            top: 100px;
            padding: 8px;
        }
        #saldCart > a {
            text-decoration: none;
            color: white;
            background-color: #EF4126;
            padding: 8px 18px 8px 18px;
            position: relative;
            left: 61%;
            top: -10px;
            font-size: 13px;
            font-weight: bold;
        }
        #pop-upPag {
            display: none;
            border-radius: 5px;
            border: 1px solid #858383;
            width: 88%;
            height: 900px;
            position: relative;
            left: 58%;
            transform: translate(-60%);
            top: 112px;
        }
        .prossRec {
            text-decoration: none;
            color: white;
            background-color: #EF4126;
            padding: 8px 18px 8px 18px;
            position: absolute;
            left: 55%;
            top: 90%;
            font-size: 13px;
            font-weight: bold;
        }
        #pagRec {
            display: none;
            border-radius: 5px;
            border: 1px solid #858383;
            width: 100%;
            height: 600px;
            position: relative;
            left: 59%;
            transform: translate(-60%);
            top: 122px;
        }
        div#qrCodeContainer {
            display: none;
            border: 1px solid #858383;
            position: relative;
            top: 12%;
            width: 100%;
            left: 50%;
            transform: translate(-50%);
            height: 627px;
            border-radius: 5px;
            background-color: white;
        }
        h2#h2Container {
            position: relative;
            top: -46%;
            left: 23%;
            width: fit-content;
        }
        button#copiarPayloadBtn {
            padding: 18px 28px 18px 28px;
            position: relative;
            top: 25%;
            left: 50%;
            transform: translate(-50%);
            border: 1px solid #EF4126;
            color: #F37160;
            background-color: white;
            font-weight: bold;
            cursor: pointer;
        }
        #cartaoDeCreditoContainer {
            display: none;
            border: 1px solid #858383;
            position: relative;
            top: 14%;
            width: 90%;
            left: 49%;
            transform: translate(-50%);
            height: 756px;
            border-radius: 5px;
            background-color: white;
        }
        #boletoPayContainer {
            display: none;
            border: 1px solid #858383;
            position: relative;
            top: 13%;
            width: 95%;
            left: 49%;
            transform: translate(-50%);
            height: 627px;
            border-radius: 5px;
            background-color: white;
        }
        h2#h2BolCont {
            position: relative;
            left: 70%;
            transform: translate(-50%);
            top: 32px;
        }
        .pAcessBol {
            position: relative;
            left: 82%;
            transform: translate(-50%);
            top: 11%;
            font-weight: bold;
            color: #F37160;
        }
        a#lnkBol {
            position: relative;
            left: 1%;
            top: 17%;
            font-size: 12px;
        }
        #btnCopCodBol {
            padding: 18px 28px 18px 28px;
            border: 1px solid #EF4126;
            color: #F37160;
            background-color: white;
            font-weight: bold;
            cursor: pointer;
            position: relative;
            top: 25%;
            left: 30%;
        }
    }
    @media screen and (min-width:768px) and (max-width:1440px) {
        header > p {
            position: relative;
            top: 30px;
            left: 2%;
            font-size: 14px;
            letter-spacing: 0.4px;
            width: fit-content;
        }
        .logo-imprimeai {
            position: relative;
            top: 35px;
            left: 18%;
        }
        .menu2 {
            display: flex;
            list-style: none;
            width: max-content;
            position: relative;
            top: 13px;
            left: 45%;
        }
        .icons {
            position: relative;
            top: -10px;
            left: 80%;
            cursor: pointer;
            width: fit-content;
            padding-left: 5px;
        }
        #saldCart {
            border: 1px solid #E8E8E8;
            border-radius: 5px;
            width: 50%;
            height: 150px;
            position: relative;
            left: 15%;
            top: 100px;
            padding: 8px;
        }
        #pop-upPag {
            display: none;
            border-radius: 5px;
            border: 1px solid #858383;
            width: 50%;
            height: 900px;
            position: relative;
            left: 47%;
            transform: translate(-60%);
            top: 137px;
        }
        #pagRec {
            display: none;
            border-radius: 5px;
            border: 1px solid #858383;
            width: 50%;
            height: 600px;
            position: relative;
            left: 45%;
            transform: translate(-60%);
            top: 117px;
        }
        #boletoPayContainer {
            display: none;
            border: 1px solid #858383;
            position: relative;
            top: 16%;
            width: 73%;
            left: 43%;
            transform: translate(-50%);
            height: 627px;
            border-radius: 5px;
            background-color: white;
        }
        h2#h2BolCont {
            position: absolute;
            left: 50%;
            transform: translate(-50%);
            top: 32px;
            width: fit-content;
        }
        .pAcessBol {
            position: absolute;
            left: 50%;
            transform: translate(-50%);
            top: 11%;
            font-weight: bold;
            color: #F37160;
            width: fit-content;
        }
        a#lnkBol {
            position: absolute;
            left: 50%;
            top: 17%;
            transform: translate(-50%);
        }
        #btnCopCodBol {
            padding: 18px 28px 18px 28px;
            border: 1px solid #EF4126;
            color: #F37160;
            background-color: white;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            top: 25%;
            left: 50%;
            width: fit-content;
            transform: translate(-50%);
        }
        div#qrCodeContainer {
            display: none;
            border: 1px solid #858383;
            position: relative;
            top: 13%;
            width: 69%;
            left: 43%;
            transform: translate(-50%);
            height: 627px;
            border-radius: 5px;
            background-color: white;
        }
        #cartaoDeCreditoContainer {
            display: none;
            border: 1px solid #858383;
            position: relative;
            top: 13%;
            width: 49%;
            left: 40%;
            transform: translate(-50%);
            height: 756px;
            border-radius: 5px;
            background-color: white;
        }
        h2#h2Container {
            position: relative;
            top: -36%;
            left: 50%;
            width: fit-content;
            transform: translate(-50%);
        }
        button#copiarPayloadBtn {
            padding: 18px 28px 18px 28px;
            position: absolute;
            top: 60%;
            left: 50%;
            transform: translate(-50%);
            border: 1px solid #EF4126;
            color: #F37160;
            background-color: white;
            font-weight: bold;
            cursor: pointer;
        }
        p#expirationDateParagraph {
            position: absolute;
            top: 72%;
            left: 50%;
            transform: translate(-50%);
            color: #EF4126;
            width: fit-content;
        }
    }
    @media screen and (min-width:1441px) and (max-width:1879px) {
        h2#h2Container {
            position: absolute;
            top: 3%;
            left: 50%;
            transform: translate(-50%);
        }
        button#copiarPayloadBtn {
            padding: 18px 28px 18px 28px;
            position: absolute;
            top: 60%;
            left: 50%;
            transform: translate(-50%);
            border: 1px solid #EF4126;
            color: #F37160;
            background-color: white;
            font-weight: bold;
            cursor: pointer;
        }
        p#expirationDateParagraph {
            position: absolute;
            top: 70%;
            left: 53%;
            transform: translate(-50%);
            color: #EF4126;
        }
        #saldCart {
            border: 1px solid #E8E8E8;
            border-radius: 5px;
            width: 27%;
            height: 150px;
            position: relative;
            left: 15%;
            top: 100px;
            padding: 8px;
        }
        #cartaoDeCreditoContainer {
            display: none;
            border: 1px solid #858383;
            position: relative;
            top: -23%;
            width: 24%;
            left: 57%;
            transform: translate(-50%);
            height: 756px;
            border-radius: 5px;
            background-color: white;
        }
        #boletoPayContainer {
            display: none;
            border: 1px solid #858383;
            position: relative;
            top: -27%;
            width: 39%;
            left: 64%;
            transform: translate(-50%);
            height: 627px;
            border-radius: 5px;
            background-color: white;
        }
        #btnCopCodBol {
            padding: 18px 28px 18px 28px;
            border: 1px solid #EF4126;
            color: #F37160;
            background-color: white;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            top: 34%;
            left: 50%;
            transform: translate(-50%);
        }
        a#lnkBol {
            position: absolute;
            left: 50%;
            top: 24%;
            transform: translate(-50%);
        }
        h2#h2BolCont {
            position: absolute;
            left: 50%;
            transform: translate(-50%);
            top: 32px;
            width: fit-content;
        }
        .pAcessBol {
            position: absolute;
            left: 50%;
            transform: translate(-50%);
            top: 14%;
            font-weight: bold;
            color: #F37160;
            width: fit-content;
        }
    }
    @media screen and (min-width:2560px) {
        header > p {
            position: relative;
            top: 30px;
            left: 18%;
            font-size: 20px;
            letter-spacing: 0.4px;
            width: fit-content;
        }
        .menu2 > a {
            padding-left: 28px;
            text-decoration: none;
            color: black;
            font-size: 20px;
        }
        #saldCart > a {
            text-decoration: none;
            color: white;
            background-color: #EF4126;
            padding: 8px 18px 8px 18px;
            position: relative;
            left: 70%;
            top: -10px;
            font-size: 16px;
            font-weight: bold;
        }
        .prossRec {
            text-decoration: none;
            color: white;
            background-color: #EF4126;
            padding: 8px 18px 8px 18px;
            position: absolute;
            left: 70%;
            top: 90%;
            font-size: 16px;
            font-weight: bold;
        }
        #pagRec > h3 {
            font-weight: normal;
            position: relative;
            top: 70px;
            left: 20px;
            font-size: 27px;
        }
        h2#h2Container {
            position: absolute;
            top: 8%;
            left: 50%;
            transform: translate(-50%);
            font-size: 30px;
        }
        button#copiarPayloadBtn {
            padding: 18px 28px 18px 28px;
            position: absolute;
            top: 60%;
            left: 50%;
            transform: translate(-50%);
            border: 1px solid #EF4126;
            color: #F37160;
            background-color: white;
            font-weight: bold;
            cursor: pointer;
        }
        p#expirationDateParagraph {
            position: absolute;
            top: 72%;
            left: 50%;
            transform: translate(-50%);
            color: #EF4126;
        }
        h2#h2BolCont {
            position: absolute;
            left: 50%;
            transform: translate(-50%);
            top: 32px;
            font-size: 30px;
        }
        a#lnkBol {
            position: absolute;
            left: 50%;
            top: 18%;
            transform: translate(-50%);
        }
        #btnCopCodBol {
            padding: 18px 28px 18px 28px;
            border: 1px solid #EF4126;
            color: #F37160;
            background-color: white;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            top: 25%;
            left: 50%;
            transform: translate(-50%);
        }
    }
    </style>
<body>
    <header>
        <div class="mini-banner">
            <!-- IMAGEM <img src="image.jpg" alt="...">-->
        </div>
        <p>Tá com pressa? <strong>ImprimeAí</strong></p>
        <nav>
            <ul class='menu2'>
                <a href="pedidos-usuario.html">Meus Pedidos</a>
                <a href="carteira.html">Minha Carteira</a>
            </ul>
            <div class="icons-header">
                <img class="icons" src="../images/facebook-icon.png" alt="...">
                <img class="icons" src="../images/youtube-icon.png" alt="...">
                <img class="icons" src="../images/instagram-icon.png" alt="...">
            </div>
        </nav>
        <div class="elem1">
           <a href="../index.html"><img class="logo-imprimeai" src="../images/logo-imprimeai2.png" alt=""></a>
        </div>
    </header>
    <main>
        <h1>Minha Carteira</h1>
        <div id="saldCart">
            <h2>Saldo da Carteira:</h2>
            <p class="pVl">R$ <span id="vlrCart">0,00</span></p>
            <a href="#" id="btnRec">Recarregar</a>
        </div>
        <div id="pop-upPag">
            <a href="#" id="fechPop">X</a>
            <h2>Escolha um Valor</h2>
            <ul>
                <li>R$ 30,00</li>
                <li>R$ 50,00</li>
                <li>R$ 100,00</li>
                <li>R$ 150,00</li>
                <li>R$ 200,00</li>
                <li>R$ 300,00</li>
                <li>R$ 400,00</li>
            </ul>
            <a href="#" class="prossRec" id="prossRec">Continuar</a>
        </div>
        <div id="pagRec">
            <a href="#" id="fechPop2">X</a>
            <h3>Escolha a forma de Pagamento</h3>
            <a href="#" id="btnPix">
                <div id="mtd-Pix">
                    <img src="https://wbl.blob.core.windows.net/public/pix.png" alt="...">
                    <p>Pix</p>
                </div>
            </a>
            <a href="#" id="btnCardCredit">
                <div id="mtd-Crd">
                    <img src="https://wbl.blob.core.windows.net/public/credit-card.png" alt="...">
                    <p>Cartão de Crédito</p>
                </div>
            </a>
            <a href="#" id="btnBol">
                <div id="mtd-Boleto">
                    <img src="https://wbl.blob.core.windows.net/public/boleto.svg" alt="...">
                    <p>Boleto Bancário</p>
                </div>
            </a>
        </div>
        <div id="qrCodeContainer"></div>
        <div id="boletoPayContainer"></div>
        <div id="cartaoDeCreditoContainer">
            <h2 id="h2CreditCont">Cartão de Crédito</h2>
            <p id="pCreditCont">Preencha os campos Abaixo</p>
            <form id="formCardCredit">
                <p>
        
                  <label for="numCard">Número do Cartão</label>
                  <input type="text" name="numCar" id="numCard" placeholder="XXXX XXXX XXXX XXXX" maxlength="16" required>
                  
                </p>
                <p>
        
        
                  <label for="nomeTitular">Nome do Titular</label>
                  <input type="text" name="nomeTitular" id="nomeTitular" placeholder="Digite o nome do Titular..." required>
        
                </p>
                <p>
        
        
                  <label for="mesExp">Mês de Expiração</label>
                  <input type="number" name="mesExp" id="mesExp" min="1" max="12" minlength="1" maxlength="2" required>
                  <label for="anoExp">Ano de Expiração</label>
                  <input type="number" name="anoExp" id="anoExp" min="0" max="99" minlength="1" maxlength="2" required>
        
                </p>
                <p>
        
        
                  <label for="cvvCard">CVV</label>
                  <input type="text" name="cvvCard" id="cvvCard" placeholder="Digite o CVV..." minlength="3" maxlength="4" required>
        
                </p>
                <button id="btnEnvCardCredit" type="submit">Continuar</button>
            </form>
          </div>
    </main>
    <script>
        const btnRec = document.getElementById('btnRec');
        const popupPag = document.getElementById('pop-upPag');
        const pagRec = document.getElementById('pagRec');
        const btnProssRec = document.getElementById('prossRec');
        const btnFechPop = document.getElementById('fechPop');
        const btnFechPop2 = document.getElementById('fechPop2');
        const vlrEsq = document.getElementById('vlrEsq');
        const btnPix = document.getElementById('btnPix');
        const qrCodeContainer = document.getElementById('qrCodeContainer');
        const btnBol = document.getElementById('btnBol');
        const boletoPayContainer = document.getElementById('boletoPayContainer');
        const cartaoDeCreditoContainer = document.getElementById('cartaoDeCreditoContainer');
        const btnCardCredit = document.getElementById('btnCardCredit');
        const btnEnvCardCredit = document.getElementById('btnEnvCardCredit');
       btnRec.addEventListener('click', () => {
        popupPag.style.display = 'block'
       })
       btnFechPop.addEventListener('click', () => {
        popupPag.style.display = 'none'
        pagRec.style.display = 'none'
       })
       btnFechPop2.addEventListener('click', () => {
        popupPag.style.display = 'none'
        pagRec.style.display = 'none'
       })
       btnProssRec.addEventListener('click', () => {
        popupPag.style.display = 'none'
        pagRec.style.display = 'block'
       })
       
       function getCookie(name) {
           const value = `; ${document.cookie}`;
           const parts = value.split(`; ${name}=`);
           if (parts.length === 2) return parts.pop().split(';').shift();
        };
        let userId = getCookie('userId');

        
        const valores = document.querySelectorAll('#pop-upPag ul li');
        let valorSelecionado = 0;
        
        valores.forEach(valor => {
            valor.addEventListener('click', () => {
                // Remover a classe 'selecionado' de todos os valores
                valores.forEach(item => {
                    item.classList.remove('selecionado');
                });
                
                // Adicionar a classe 'selecionado' apenas ao valor clicado
                valor.classList.add('selecionado');
                
                // Armazenar o valor selecionado na variável
                valorSelecionado = parseFloat(valor.textContent.replace('R$ ', ''));
                console.log('Valor selecionado:', valorSelecionado);
            });
        });

        btnProssRec.addEventListener('click', () => {
            console.log('Continuar com o valor:', valorSelecionado);
            // Aqui você pode prosseguir com o valor selecionado, como enviar para o servidor ou realizar alguma operação com ele.
        });

        async function verificarStatusPix(idPix) {
            try {
                // Inicialize o cliente Pagarme com sua chave de API
                const client = await pagarme.client.connect({ api_key: 'ak_live_Gelm3adxJjY9G3cOGcZ8bPrL1596k2' });

                // Consulte a transação PIX usando o ID do PIX
                const transaction = await client.transactions.find({ id: idPix });

                // Verifique o status da transação
                const status = transaction.status;
                
                // Retorna o status da transação PIX
                return status;
            } catch (error) {
                console.error('Erro ao verificar o status do PIX pelo Pagarme:', error);
                
                if (error.response && error.response.errors) {
                    console.error('Detalhes do erro:', error.response.errors);
                }
                
                throw new Error('Erro ao verificar o status do PIX pelo Pagarme');
            }
            }

            // Função para verificar continuamente o status do PIX
            async function monitorarStatusPix(idPix) {
                try {
                    // Definir um intervalo de polling (em milissegundos)
                    const pollingInterval = 5000; // 5 segundos
                    
                while (true) {
                    // Verificar o status do PIX
                const status = await verificarStatusPix(idPix);
                console.log('Status do PIX:', status);

                if (status === 'paid') {
                    qrCodeContainer.style.display = 'none'
                    // Se o PIX estiver pago, sair do loop de polling
                    console.log('O PIX foi pago!, DEPOSITANDO NA CARTEIRA');
                    const metodPag = 'Pix';
                    
                    const detalhesPagamento = {
                        userId: userId,
                        valor: valorSelecionado,
                        metodoPagamento: metodPag,
                        status: "PAGO"
                    };
                    
                    try {
                        const response = await fetch('/registrarPagamento', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(detalhesPagamento)
                        });
                        
                        if (!response.ok) {
                            throw new Error('Erro ao registrar o pagamento');
                        }
                        
                        console.log('Pagamento registrado com sucesso!');
                    } catch (error) {
                        console.error('Erro ao registrar o pagamento:', error);
                    }
                        break;
                }
                
                // Aguardar o intervalo de polling antes de fazer a próxima verificação
                await new Promise(resolve => setTimeout(resolve, pollingInterval));
                }
            } catch (error) {
                console.error('Erro ao monitorar o status do PIX:', error);
            }
        }

            btnPix.addEventListener('click', async () => {
                const valor = valorSelecionado;
                const descricao = "Depósito Carteira";
                const metodPag = "Pix";
                
                
                try {
                    const response = await fetch('/gerarQRPix', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ valor, descricao })
                    });

                    if (!response.ok) {
                        throw new Error('Erro ao gerar QR Code PIX');
                    }

                    const { qrDataURL, pixPayload, idPix, expirationDatePix } = await response.json();
                    
                    qrCodeContainer.style.display = 'block'
                    pagRec.style.display = 'none'
                    const qrCodeImg = document.createElement('img');
                    qrCodeImg.src = qrDataURL;
                    qrCodeImg.id = 'imgPix'
                    document.getElementById('qrCodeContainer').innerHTML = '';
                    document.getElementById('qrCodeContainer').appendChild(qrCodeImg);
                    const copiarPayloadBtn = document.createElement('button');
                    copiarPayloadBtn.id = 'copiarPayloadBtn';
                    copiarPayloadBtn.innerText = 'PIX Copia e Cola';
                    copiarPayloadBtn.addEventListener('click', async() => {
                        // Copiar o payload PIX para a área de transferência
                        await navigator.clipboard.writeText(pixPayload);
                        alert('Código PIX copiado com sucesso!');
                        
                    })
                    qrCodeContainer.appendChild(copiarPayloadBtn);
            
                    const h2Container = document.createElement('h2');
                    h2Container.innerText = 'Pagamento Pix';
                    h2Container.id = 'h2Container';
                    qrCodeContainer.appendChild(h2Container);
                    
                    // Exibir a data de expiração do PIX formatada
                    const expirationDateFormatted = new Date(expirationDatePix).toLocaleString('pt-BR', { timeZone: 'UTC' });
                    const expirationDateParagraph = document.createElement('p');
                    expirationDateParagraph.id = 'expirationDateParagraph';
                    expirationDateParagraph.innerText = `O PIX irá expirar em ${expirationDateFormatted}`;
                    qrCodeContainer.appendChild(expirationDateParagraph);
                    monitorarStatusPix(idPix);
                    
                } catch (error) {
                    console.error('Erro:', error);
                }
            });

            async function verificarStatusBoleto(idBoleto) {
                try {
                    const client = await pagarme.client.connect({ api_key: 'ak_live_Gelm3adxJjY9G3cOGcZ8bPrL1596k2' });
                    const transaction = await client.transactions.find({ id: idBoleto });
                    return transaction.status;
                } catch (error) {
                    console.error('Erro ao verificar o status do Boleto pelo Pagarme:', error);
                    throw new Error('Erro ao verificar o status do Boleto pelo Pagarme');
                }
                }
                // Função para verificar continuamente o status do Boleto
                async function monitorarStatusBoleto(idBoleto) {
                    const boletoPayContainer = document.getElementById('boletoPayContainer');
                    try {
                        // Definir um intervalo de polling (em milissegundos)
                        const pollingInterval = 5000; // 5 segundos

                        // Defina um limite de tempo em milissegundos (15 segundos)
                        const limiteTempo = 15000; // 15 segundos

                        // Defina o horário inicial
                        const horarioInicial = Date.now();

                        while (true) {
                            // Verificar o status do Boleto
                            const status = await verificarStatusBoleto(idBoleto);
                            console.log('Status do Boleto:', status);

                            // Verifica se o tempo limite foi atingido
                            if (Date.now() - horarioInicial > limiteTempo) {
                                console.log('Tempo limite atingido. Criando o pedido mesmo sem o pagamento confirmado.');
                                const metodPag = "BOLETO";
                                const detalhesPagamento = {
                                    userId: userId,
                                    valor: valorSelecionado,
                                    metodoPagamento: metodPag,
                                    status: "ESPERANDO PAGAMENTO",
                                    idTransacao: idBoleto,
                                };

                                try {
                                    // Registre o pagamento
                                    const response = await fetch('/registrarPagamento', {
                                        method: 'POST',
                                        headers: {
                                            'Content-Type': 'application/json'
                                        },
                                        body: JSON.stringify(detalhesPagamento)
                                    });
                                    
                                    if (!response.ok) {
                                        throw new Error('Erro ao registrar o pagamento');
                                    }
                                    
                                    console.log('Pagamento registrado com sucesso!');
                                    //boletoPayContainer.style.display = 'none'
                                } catch (error) {
                                    console.error('Erro ao registrar o pagamento:', error);
                                }
                                break;
                            }

                            // Aguardar o intervalo de polling antes de fazer a próxima verificação
                            await new Promise(resolve => setTimeout(resolve, pollingInterval));
                        }
                    } catch (error) {
                        console.error('Erro ao monitorar o status do Boleto:', error);
                    }
                }
        
            btnBol.addEventListener('click', async () => {
                const valor = valorSelecionado;
                const metodPag = "Boleto";
                const descricao = "DEPÓSITO CARTEIRA"

                if (!userId) {
                    console.log('Usuário não autenticado');
                    // Lidar com o caso de usuário não autenticado, redirecionar, exibir mensagem, etc.
                    return;
                }
                
                const perfilResponse = await fetch('/perfil/dados', {
                    headers: {
                        'Cookie': `userId=${userId}`
                    }
                });
            
                if (!perfilResponse.ok) {
                    console.error('Erro ao obter dados do perfil:', perfilResponse.statusText);
                    // Lidar com o erro ao obter dados do perfil
                    return;
                }
                
                const perfilData = await perfilResponse.json();
                
                // Extrair dados do perfil
                const { userCad ,cpfCad, emailCad, telefoneCad } = perfilData;
                
                const nomeCliente = userCad;
                const numeroDocumento = cpfCad;
                const telefoneCliente = telefoneCad;
                const emailCliente = emailCad
                console.log(nomeCliente, numeroDocumento)
            
            
                const response = await fetch('/gerarBoleto', {
                    method: 'POST',
                    headers: {
                    'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ valor, descricao, nomeCliente, numeroDocumento })
                });

                if (!response.ok) {
                    throw new Error('Erro ao gerar o boleto');
                }
                
                const { boletoURL, boletoExpirationDate, boletoCod, idBoleto } = await response.json();
                console.log(boletoCod)
                const boletoPayContainer = document.getElementById('boletoPayContainer');


                boletoPayContainer.style.display = 'block';
                pagRec.style.display = 'none'
                boletoPayContainer.innerHTML = `
                <h2 id="h2BolCont">Pagamento Boleto</h2>
                <p class="pAcessBol">Acessar Boleto</p>
                <a href="${boletoURL}" target="_blank" id="lnkBol">${boletoURL}</a>
                <button id="btnCopCodBol">Copiar Código</button>
                `;

                const btnCopCodBol = document.getElementById('btnCopCodBol');

                btnCopCodBol.addEventListener('click', async() => {
                    // Copiar o payload PIX para a área de transferência
                    await navigator.clipboard.writeText(boletoCod);
                    alert('Código do Boleto copiado com sucesso!');
                })
                console.log('ID DO BOLETO', idBoleto)
                monitorarStatusBoleto(idBoleto);
            })

            btnCardCredit.addEventListener('click', async() => {
                setTimeout(() => {
                    cartaoDeCreditoContainer.style.display = 'block';
                    pagRec.style.display = 'none';
                },3000);
            });
            btnEnvCardCredit.addEventListener('click', async function(event) {
                event.preventDefault(); // Evita o envio do formulário
                const totalAPagar = valorSelecionado;
                const numCar = document.getElementById('numCard').value;
                const nomeTitular = document.getElementById('nomeTitular').value;
                const mesExp = document.getElementById('mesExp').value;
                const anoExp = document.getElementById('anoExp').value;
                const cvvCard = document.getElementById('cvvCard').value;

                // Crie um objeto para armazenar os dados do formulário
                const formData = {
                    numCar: numCar,
                    nomeTitular: nomeTitular,
                    mesExp: mesExp,
                    anoExp: anoExp,
                    cvvCard: cvvCard
                };

                // Fetch para obter os dados do perfil do usuário
                try {
                    const response = await fetch('/perfil/dados');
                    if (!response.ok) {
                        throw new Error('Erro ao obter dados do perfil');
                    }
                    const perfilData = await response.json();
                    // Função para formatar o número de telefone
                    function formatarTelefone(numero) {
                        // Remove todos os caracteres não numéricos
                        const numeroLimpo = numero.replace(/\D/g, '');

                        // Extrai o DDD (dois primeiros dígitos) e o número do telefone
                        const ddd = numeroLimpo.substring(0, 2);
                        const numeroTelefone = numeroLimpo.substring(2);

                        // Retorna um objeto com as partes do número formatado
                        return {
                            ddd: ddd,
                            numeroTelefone: numeroTelefone
                        };
                    }
                    function getUF(estadoCompleto) {
                    const estados = {
                        'Acre': 'AC',
                        'Alagoas': 'AL',
                        'Amapá': 'AP',
                        'Amazonas': 'AM',
                        'Bahia': 'BA',
                        'Ceará': 'CE',
                        'Distrito Federal': 'DF',
                        'Espírito Santo': 'ES',
                        'Goiás': 'GO',
                        'Maranhão': 'MA',
                        'Mato Grosso': 'MT',
                        'Mato Grosso do Sul': 'MS',
                        'Minas Gerais': 'MG',
                        'Pará': 'PA',
                        'Paraíba': 'PB',
                        'Paraná': 'PR',
                        'Pernambuco': 'PE',
                        'Piauí': 'PI',
                        'Rio de Janeiro': 'RJ',
                        'Rio Grande do Norte': 'RN',
                        'Rio Grande do Sul': 'RS',
                        'Rondônia': 'RO',
                        'Roraima': 'RR',
                        'Santa Catarina': 'SC',
                        'São Paulo': 'SP',
                        'Sergipe': 'SE',
                        'Tocantins': 'TO'
                    };

                    return estados[estadoCompleto];
                }
                function formatarCPF(cpf) {
                    // Remove todos os caracteres não numéricos
                    return cpf.replace(/\D/g, '');
                }
                    const cpfCliente = formatarCPF(perfilData.cpfCad);

                    const estadoCliente = getUF(perfilData.estadoCad);
                    // Formate o número de telefone
                    const telefoneFormatado = formatarTelefone(perfilData.telefoneCad);

                    // Agora você pode acessar as partes formatadas do número de telefone
                    const codPaisCliente = "55";
                    const dddCliente = telefoneFormatado.ddd;
                    const numeroTelefoneCliente = telefoneFormatado.numeroTelefone;

                    const emailCliente = perfilData.emailCad;
                    const cepCliente = perfilData.cepCad;
                    const cidadeCliente = perfilData.cidadeCad;
                    const ruaCliente = perfilData.endereçoCad;
                    const numeroResidenciaCliente = perfilData.numCad;
                    const bairroCliente = perfilData.bairroCad;
                    const numeroDocumento = perfilData.cpfCad;
                    const nomeCliente = perfilData.userCad;
                    const paisCliente = "BR";
                    const idCliente = perfilData.userId;

                    // Crie um objeto para armazenar os dados do perfil do usuário
                    const perfilUsuario = {
                        emailCliente: emailCliente,
                        cpfCliente: cpfCliente,
                        cepCliente: cepCliente,
                        cidadeCliente: cidadeCliente,
                        estadoCliente: estadoCliente,
                        ruaCliente: ruaCliente,
                        numeroResidenciaCliente: numeroResidenciaCliente,
                        bairroCliente: bairroCliente,
                        numeroDocumento: numeroDocumento,
                        nomeCliente: nomeCliente,
                        paisCliente: paisCliente,
                        codPaisCliente: codPaisCliente,
                        dddCliente: dddCliente,
                        numeroTelefoneCliente: numeroTelefoneCliente,
                        userId: idCliente,
                        totalCompra:  totalAPagar
                    };

                    // Envie os dados do formulário e do perfil do usuário para o backend
                    const response2 = await fetch('/processarPagamento', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ formData: formData, perfilData: perfilUsuario })
                    });

                    if (!response2.ok) {
                        throw new Error('Erro ao processar pagamento');
                    }

                // Extrair o idTransacao da resposta
                const responseData = await response2.json();
                const idTransacao = responseData.idTransacao;
                console.log('Id da transação:', idTransacao);
                verificarStatusTransacao(idTransacao);
                } catch (error) {
                    console.error('Erro durante o processo:', error);
                }
            });
            // Função para verificar o status da transação a cada 5 segundos
            function verificarStatusTransacao(idTransacao) {
                // Define uma função anônima que faz uma solicitação GET ao servidor para verificar o status da transação
                const verificar = async () => {
                    try {
                        // Faz uma solicitação GET ao servidor para verificar o status da transação
                        const response = await fetch(`/verificarStatusTransacao?chargeId=${idTransacao}`);
                        if (!response.ok) {
                            throw new Error('Erro ao verificar status da transação');
                        }
                        const data = await response.json();
                        console.log('Status da transação:', data.status);
                        // Se o status ainda estiver pendente, chama novamente a função após 5 segundos
                        if (data.status === 'waiting_capture') {
                            setTimeout(verificar, 5000);
                        }else if(data.status === 'captured') {
                            const detalhesPagamento = {
                                    userId: userId,
                                    valor: valorSelecionado,
                                    metodoPagamento: "Cartão de Crédito",
                                    status: "PAGO",
                                    idTransacao: idTransacao,
                                };

                                try {
                                    // Registre o pagamento
                                    const response = await fetch('/registrarPagamento', {
                                        method: 'POST',
                                        headers: {
                                            'Content-Type': 'application/json'
                                        },
                                        body: JSON.stringify(detalhesPagamento)
                                    });
                                    
                                    if (!response.ok) {
                                        throw new Error('Erro ao registrar o pagamento');
                                    }
                                    
                                    console.log('Pagamento registrado com sucesso!');
                                    cartaoDeCreditoContainer.style.display = 'none';
                                }catch {
                                    console.error('Erro ao registrar o pagamento:', error);
                                }   
                        }else if(data.status === "not_authorized") {
                        alert("Cartão não foi Autorizado!")
                        }else if (data.status === "refunded") {
                        alert("O valor da transação foi Estornado!")
                        }else if(data.status === "voided") {
                        alert("A transação foi Cancelada")
                        }else if(data.status === "waiting_cancellation") {
                        alert("Aguardando o Cancelamento!")
                        }else if(data.status === "with_error") {
                        alert("Transação com Erro!")
                        }else if(data.status === "failed") {
                        alert("Falha na Transação!")
                        }
                    } catch (error) {
                        console.error('Erro ao verificar status da transação:', error);
                    }
                };

                // Inicia a verificação do status da transação
                verificar();
            }
        // Solicitação AJAX para buscar e exibir o saldo do usuário na página HTML
        async function exibirSaldoUsuario() {
            try {
                const response = await fetch('/saldoUsuario');
                const data = await response.json();
                const saldoFormatado = formatarSaldo(data.saldo); // Formate o saldo se necessário

                // Atualize o elemento HTML com o saldo do usuário
                document.getElementById('vlrCart').textContent = saldoFormatado;
            } catch (error) {
                console.error('Erro ao buscar saldo do usuário:', error);
            }
        }

        // Função para formatar o saldo (adicione R$ e formate para duas casas decimais)
        function formatarSaldo(saldo) {
            return `${saldo.toFixed(2)}`;
        }
 
        // Chame a função para exibir o saldo do usuário quando a página for carregada
        exibirSaldoUsuario();

    </script>
</body>
</html>